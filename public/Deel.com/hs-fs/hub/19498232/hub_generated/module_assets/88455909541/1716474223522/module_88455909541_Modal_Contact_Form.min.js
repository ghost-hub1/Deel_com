var module_88455909541=function(){function getCookieValue(cname){for(var name=cname+"=",ca=decodeURIComponent(document.cookie).split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""}async function applyHashedEmailValuesToForm(){const emailInput=getEmailInput(),inputHashedEmail=getInput("hashed_email"),hashedEmail=await async function(text){try{const msgUint8=(new TextEncoder).encode(text),hashBuffer=await crypto.subtle.digest("SHA-256",msgUint8);return Array.from(new Uint8Array(hashBuffer)).map((b=>b.toString(16).padStart(2,"0"))).join("")}catch(error){console.log(error)}}(emailField.value);null!==emailInput&&hashedEmail&&null!==inputHashedEmail&&(inputHashedEmail.value=hashedEmail)}function getForm(){return document.getElementsByTagName("form")[0]}function getInput(name){return document.querySelector(`input[name="${name}"]`)}function getSelect(name){return document.querySelector(`select[name="${name}"]`)}function getEmailInput(){return document.querySelector('input[name="email"]')}function createError(message){const element=document.createElement("p");return element.setAttribute("style",'font-family: "Silka"; color: red; font-size: 12px; margin-top: 8px; margin-bottom: 0px; padding-left: 8px'),element.classList.add("form-error"),element.innerHTML=message,element}function clearFormErrors(){const errors=[...document.querySelectorAll(".form-error")];for(const error of errors)error.remove()}function sendDataLayerError(payload){if(window.sendDataLayerEvent)return window.sendDataLayerEvent({eventCategory:"Click",eventProduct:"Request a demo",eventAction:"Error",payload:payload}),!1}$(".close-modal").click((function(){$("body").removeClass("show-modal-form")})),$((()=>{function validateWebsite(){const website=getInput("0-2/company_website");if(website){const url=website.value.toLowerCase();return 0===url.length?(website.parentElement.appendChild(createError("Please enter a website")),!1):(urlString=url,!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(urlString)||(website.parentElement.appendChild(createError("Please enter a valid url")),!1))}var urlString;return!1}async function validateEmail(){const emailInput=getEmailInput();if(emailInput){const email=emailInput.value;if(email||(emailInput.parentElement.appendChild(createError("Please enter a email")),sendDataLayerError({work_email:email,blocked_email:"Front End"})),!function(email){return/^([\w-\.]+@(?!mailinator.com)(?!gmail.com)(?!protonmail.com)(?!cloudmdrive.my.id)(?!icloud.com)(?!gmial.com)(?!gmali.com)(?!yahoo.com)(?!hotmail.com)(?!aol.com)(?!hotmail.co.uk)(?!gamil.com)(?!gmanil.com)(?!gmali.com)(?!hotmail.fr)(?!msn.com)(?!yahoo.fr)(?!wanadoo.fr)(?!orange.fr)(?!comcast.net)(?!yahoo.co.uk)(?!yahoo.com.br)(?!yahoo.co.in)(?!live.com)(?!rediffmail.com)(?!free.fr)(?!gmx.de)(?!web.de)(?!yandex.ru)(?!ymail.com)(?!libero.it)(?!outlook.com)(?!uol.com.br)(?!bol.com.br)(?!mail.ru)(?!cox.net)(?!hotmail.it)(?!sbcglobal.net)(?!sfr.fr)(?!live.fr)(?!verizon.net)(?!live.co.uk)(?!googlemail.com)(?!yahoo.es)(?!ig.com.br)(?!live.nl)(?!bigpond.com)(?!terra.com.br)(?!yahoo.it)(?!neuf.fr)(?!yahoo.de)(?!alice.it)(?!rocketmail.com)(?!att.net)(?!laposte.net)(?!facebook.com)(?!bellsouth.net)(?!yahoo.in)(?!hotmail.es)(?!charter.net)(?!yahoo.ca)(?!yahoo.com.au)(?!rambler.ru)(?!bozzcello.com)(?!bozztirex.us)(?!vivaldigital.com)(?!hotmail.de)(?!tiscali.it)(?!shaw.ca)(?!yahoo.co.jp)(?!sky.com)(?!earthlink.net)(?!optonline.net)(?!freenet.de)(?!t-online.de)(?!aliceadsl.fr)(?!virgilio.it)(?!home.nl)(?!qq.com)(?!telenet.be)(?!me.com)(?!yahoo.com.ar)(?!tiscali.co.uk)(?!yahoo.com.mx)(?!voila.fr)(?!gmx.net)(?!mail.com)(?!planet.nl)(?!tin.it)(?!live.it)(?!ntlworld.com)(?!arcor.de)(?!yahoo.co.id)(?!frontiernet.net)(?!hetnet.nl)(?!live.com.au)(?!yahoo.com.sg)(?!zonnet.nl)(?!club-internet.fr)(?!juno.com)(?!optusnet.com.au)(?!blueyonder.co.uk)(?!bluewin.ch)(?!skynet.be)(?!sympatico.ca)(?!windstream.net)(?!mac.com)(?!centurytel.net)(?!chello.nl)(?!live.ca)(?!aim.com)(?!work.nigga.com)(?!mytruecrimepodcast.com)(?!bigpond.net.au)([\w-]+\.)+[\w-]{2,12})?$/.test(email)}(email))return emailInput.parentElement.appendChild(createError("Please enter a valid work email")),sendDataLayerError({work_email:email,blocked_email:"Front End"}),!1;const isEmailValidatedByApi=await async function(email){return await fetch("https://api-prod.letsdeel.com/hubspot/email-validation?email="+email)}(email);if(!isEmailValidatedByApi?.ok){emailInput.parentElement.appendChild(createError("Please enter a valid work email"));const{errors:errors}=isEmailValidatedByApi;return errors&&sendDataLayerError({work_email:email,blocked_email:errors[0].type}),!1}return!0}return!1}function validateField(field,error){return!!(field&&field.value.length>0)||(field.parentElement.appendChild(createError(error)),!1)}async function validateForm(){const isWebsiteValid=validateWebsite(),isFirstNameValid=validateField(getInput("firstname"),"Please enter your first name"),isLastNameValid=validateField(getInput("lastname"),"Please enter your last name"),isCountryValid=validateField(getSelect("headquarters"),"Please select a country"),isPhoneValid=validateField(getInput("phone"),"Please enter your phone number"),isCompanySizeValid=validateField(getSelect("how_many_people_work_at_your_company_"),"Please select a company size");return await validateEmail()&&isWebsiteValid&&isFirstNameValid&&isLastNameValid&&isCountryValid&&isPhoneValid&&isCompanySizeValid}function addCustomFormValidations(){const form=getForm();if(form){const submitButton=document.querySelector('input[type="submit"]');submitButton&&submitButton.addEventListener("click",(async event=>{event.preventDefault(),clearFormErrors(),submitButton.value="Submitting...";await validateForm()&&(clearFormErrors(),function(){const input=getInput("li_fat_id"),li_fat_id=getCookieValue("li_fat_id");null!==input&&li_fat_id&&(input.value=li_fat_id);const inputFBC=getInput("_fbc"),_fbc=getCookieValue("_fbc");null!==inputFBC&&_fbc&&(inputFBC.value=_fbc)}(),await applyHashedEmailValuesToForm(),form.submit(),ChiliPiper.submit("letsdeel","inbound-router",{title:"Thanks! What time works best for a quick call?",onSuccess:()=>{window.sendDataLayerEvent&&window.sendDataLayerEvent({eventCategory:"Submit",eventProduct:"Request a demo",eventAction:"Book a call"})},onClose:()=>{$(".close-modal").click((function(){$("body").removeClass("show-modal-form")}))}})),submitButton.value="Book a Demo"}))}}const searchForFormInterval=setInterval((()=>{getForm()&&(clearInterval(searchForFormInterval),addCustomFormValidations())}),100)}))}();